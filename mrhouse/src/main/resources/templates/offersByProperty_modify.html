<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <!-- Head -->
    <head th:replace="/fragments/head::head">

        <!-- Las siguientes lineas son solamente para que funcionen los estilos al trabajar con vsc -->
        <!-- Boostrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <!-- Boostrap Icon -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
        <!-- CSS Personalizado -->
        <link href="../../resources/static/css/styles.css" rel="stylesheet">

    </head>

    <body>

        <!-- Header, Navbar -->
        <header th:replace="/fragments/header::header"></header>

        <!-- Colocar todo el contenido de cada pagina debajo de este comentario dentro de main -->
        <!-- Colocar todo el contenido de cada pagina debajo de este comentario dentro de main -->
        <main>
            <h1>Actualizar estado de las Ofertas</h1>
            <div class="container">

                <form th:action="@{/property/modifyOffer/__${OffersByProperty.Id}__}" method="POST" enctype="multipart/form-data">
                    <div class="form-group">                 

                        <input hidden th:value="${Id}" name="Id">

                        <div class="form-group my-3">
                            <select name="IdProperty">
                                <option>Seleccionar Id propiedad</option>
                                <option th:each="Property : ${properties}"
                                        th:value="${Property.Id}"
                                        th:selected="${Property.Id==OffersByProperty.property.Id}"
                                        th:text="${Property.Id}"
                                        />
                            </select>
                        </div>


                        <textarea class="form-group" th:value="${OffersByProperty.message}" type="text"  name="message" placeholder="message" rows="4" cols="50" ></textarea>
                        <br>
                        <input th:value="${OffersByProperty.userEmail}" type="text" class="form-group" name="userEmail" placeholder="userEmail">
                        
                        
                         
                        <div class="">
                            <br>
                            <select class="form-select mb-3" name="statusOffer">
                                <option th:each="statusOffer : ${T(com.realestate.mrhouse.Enums.StatusOffer).values()}"
                                        th:value="${statusOffer}" th:text="${statusOffer}"></option>
                            </select>
                        </div>

                    </div>
                    <button type="submit" class="btn btn-primary"> Actualizar</button>
                </form>

                <div th:if="${error != null}" class="card text-white bg-danger mb-3 mensajeError" >
                    <div class="card-body">
                        <h5 class="card-title">Error ðŸ‘Ž</h5>
                        <p class="card-text" th:text="${error}"></p>
                    </div>
                </div>

                <div th:if="${exito != null}" class="card text-white bg-success mb-3 mt-3 mensajeExito" >
                    <div class="card-body">
                        <h5 class="card-title">Exito!</h5>
                        <p class="card-text" th:text="${exito}"></p>
                    </div>
                </div>

                <section class=" text-center container">
                    <div class="row mt-3">
                        <div class="divVolver">
                            <a th:href="@{/}" class="btn btn-secondary my-2 botonVolver botones">Volver</a>
                        </div>
                    </div>
                </section>


            </div>

        </main>
        <!-- Fin de Main -->
        <!-- Fin de Main -->

        <!-- Footer -->
        <footer th:replace="/fragments/footer::footer"></footer>


        <!-- Script de Boostrap.js -->
        <script th:replace="/fragments/script::script"></script>
    </body>
</html>
